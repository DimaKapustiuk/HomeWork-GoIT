"use strict";!function(e){function r(e){localStorage.setItem("user-bookmarks",JSON.stringify(e))}function t(){var e=JSON.parse(localStorage.getItem("user-bookmarks"));return e}function n(e,r){var t=e.filter(function(e){return e.url!==r});return console.log(t),t}var o={baseUrl:"http://api.linkpreview.net/?key=5b9a45cc81f339fa8928c270076c0ef75e4182d8266b4&q=",getObjAPI:function(e){return fetch("".concat(this.baseUrl).concat(e)).then(function(e){if(e.ok)return e.json();throw new Error("Error in response")})["catch"](function(e){return alert(e)})}};e.addEventListener("DOMContentLoaded",function(){function c(){var r={};return r.form=e.querySelector(".form"),r.input=e.querySelector(".input-user"),r.root=e.querySelector(".root"),r}function a(e){e.preventDefault();var t=d.input.value;o.getObjAPI(t).then(function(e){void 0!==e&&(l.push(e),r(l),d.root.insertAdjacentHTML("afterbegin",f(e)))}),d.form.reset()}function u(e){var r=e.target;"BUTTON"===r.nodeName&&i(r)}function i(e){var o=e.closest("#card"),c=o.querySelector(".card-link").href,a=t();r(n(a,c)),o.remove()}function f(e){var r=Handlebars.templates.card(e);return r}var s=t(),l=s?s:[],d=c(),v=l.reduce(function(e,r){return e+f(r)},"");d.root.insertAdjacentHTML("afterbegin",v),d.form.addEventListener("submit",a),d.root.addEventListener("click",u)})}(document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMubWluLmpzIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiYWRkTG9jYWxTdG9yYWdlIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0TG9jYWxTdG9yYWdlIiwicGFyc2UiLCJnZXRJdGVtIiwiZmlsdGVyZWRBcnJheSIsImFycmF5IiwidXJsIiwiZmlsdGVyIiwib2JqIiwiY29uc29sZSIsImxvZyIsImFwaSIsImJhc2VVcmwiLCJnZXRPYmpBUEkiLCJ1c2VyVXJsIiwiZmV0Y2giLCJjb25jYXQiLCJ0aGlzIiwidGhlbiIsInJlc3BvbnNlIiwib2siLCJqc29uIiwiRXJyb3IiLCJlcnJvciIsImFsZXJ0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInNlbGVjdFJlZnMiLCJyZWZzIiwiZm9ybSIsInF1ZXJ5U2VsZWN0b3IiLCJpbnB1dCIsInJvb3QiLCJoYW5kbGVGb3JtQnlTdWJtaXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwidmFsdWUiLCJ1bmRlZmluZWQiLCJhcnJPYmoiLCJwdXNoIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiY3JlYXRlQ2FyZFdpdGhPYmoiLCJyZXNldCIsImhhbmRsZUJ1dHRvblJlbW92ZUNhcmQiLCJfcmVmIiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJyZW1vdmVDYXJkIiwiY2FyZCIsImNsb3Nlc3QiLCJocmVmIiwicmVtb3ZlIiwidGVtcGxhdGUiLCJIYW5kbGViYXJzIiwidGVtcGxhdGVzIiwiZGF0YVN0b3JhZ2UiLCJtYXJrdXAiLCJyZWR1Y2UiLCJhY2MiXSwibWFwcGluZ3MiOiJBQUFBLGNBSUEsU0FBV0EsR0FhVCxRQUFTQyxHQUFnQkMsR0FDdkJDLGFBQWFDLFFBQVEsaUJBQWtCQyxLQUFLQyxVQUFVSixJQUd4RCxRQUFTSyxLQUNQLEdBQUlMLEdBQU9HLEtBQUtHLE1BQU1MLGFBQWFNLFFBQVEsa0JBQzNDLE9BQU9QLEdBR1QsUUFBU1EsR0FBY0MsRUFBT0MsR0FDNUIsR0FBSUMsR0FBU0YsRUFBTUUsT0FBTyxTQUFVQyxHQUNsQyxNQUFPQSxHQUFJRixNQUFRQSxHQUdyQixPQURBRyxTQUFRQyxJQUFJSCxHQUNMQSxFQTFCVCxHQUFJSSxJQUNGQyxRQUFTLG1GQUNUQyxVQUFXLFNBQW1CQyxHQUM1QixNQUFPQyxPQUFNLEdBQUdDLE9BQU9DLEtBQUtMLFNBQVNJLE9BQU9GLElBQVVJLEtBQUssU0FBVUMsR0FDbkUsR0FBSUEsRUFBU0MsR0FBSSxNQUFPRCxHQUFTRSxNQUNqQyxNQUFNLElBQUlDLE9BQU0sdUJBRlhQLFNBR0UsU0FBVVEsR0FDakIsTUFBT0MsT0FBTUQsTUFzQm5CN0IsR0FBUytCLGlCQUFpQixtQkFBb0IsV0FLNUMsUUFBU0MsS0FDUCxHQUFJQyxLQUlKLE9BSEFBLEdBQUtDLEtBQU9sQyxFQUFTbUMsY0FBYyxTQUNuQ0YsRUFBS0csTUFBUXBDLEVBQVNtQyxjQUFjLGVBQ3BDRixFQUFLSSxLQUFPckMsRUFBU21DLGNBQWMsU0FDNUJGLEVBVVQsUUFBU0ssR0FBbUJDLEdBQzFCQSxFQUFNQyxnQkFDTixJQUFJcEIsR0FBVWEsRUFBS0csTUFBTUssS0FDekJ4QixHQUFJRSxVQUFVQyxHQUFTSSxLQUFLLFNBQVVWLEdBQ3hCNEIsU0FBUjVCLElBQ0o2QixFQUFPQyxLQUFLOUIsR0FDWmIsRUFBZ0IwQyxHQUNoQlYsRUFBS0ksS0FBS1EsbUJBQW1CLGFBQWNDLEVBQWtCaEMsT0FFL0RtQixFQUFLQyxLQUFLYSxRQUdaLFFBQVNDLEdBQXVCQyxHQUM5QixHQUFJQyxHQUFTRCxFQUFLQyxNQUNNLFlBQXBCQSxFQUFPQyxVQUNYQyxFQUFXRixHQUdiLFFBQVNFLEdBQVdGLEdBQ2xCLEdBQUlHLEdBQU9ILEVBQU9JLFFBQVEsU0FDdEIxQyxFQUFNeUMsRUFBS2xCLGNBQWMsY0FBY29CLEtBQ3ZDckQsRUFBT0ssR0FDWE4sR0FBZ0JTLEVBQWNSLEVBQU1VLElBQ3BDeUMsRUFBS0csU0FHUCxRQUFTVixHQUFrQmhDLEdBQ3pCLEdBQUkyQyxHQUFXQyxXQUFXQyxVQUFVTixLQUFLdkMsRUFDekMsT0FBTzJDLEdBL0NULEdBQUlHLEdBQWNyRCxJQUNkb0MsRUFBU2lCLEVBQWNBLEtBQ3ZCM0IsRUFBT0QsSUFVUDZCLEVBQVNsQixFQUFPbUIsT0FBTyxTQUFVQyxFQUFLakQsR0FDeEMsTUFBT2lELEdBQU1qQixFQUFrQmhDLElBQzlCLEdBQ0htQixHQUFLSSxLQUFLUSxtQkFBbUIsYUFBY2dCLEdBQzNDNUIsRUFBS0MsS0FBS0gsaUJBQWlCLFNBQVVPLEdBQ3JDTCxFQUFLSSxLQUFLTixpQkFBaUIsUUFBU2lCLE1BaUNyQ2hEIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbjtcblxuKGZ1bmN0aW9uIChkb2N1bWVudCkge1xuICB2YXIgYXBpID0ge1xuICAgIGJhc2VVcmw6ICdodHRwOi8vYXBpLmxpbmtwcmV2aWV3Lm5ldC8/a2V5PTViOWE0NWNjODFmMzM5ZmE4OTI4YzI3MDA3NmMwZWY3NWU0MTgyZDgyNjZiNCZxPScsXG4gICAgZ2V0T2JqQVBJOiBmdW5jdGlvbiBnZXRPYmpBUEkodXNlclVybCkge1xuICAgICAgcmV0dXJuIGZldGNoKFwiXCIuY29uY2F0KHRoaXMuYmFzZVVybCkuY29uY2F0KHVzZXJVcmwpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgaW4gcmVzcG9uc2UnKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICByZXR1cm4gYWxlcnQoZXJyb3IpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGFkZExvY2FsU3RvcmFnZShkYXRhKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyLWJvb2ttYXJrc1wiLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2UoKSB7XG4gICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlci1ib29rbWFya3NcIikpO1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlsdGVyZWRBcnJheShhcnJheSwgdXJsKSB7XG4gICAgdmFyIGZpbHRlciA9IGFycmF5LmZpbHRlcihmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gb2JqLnVybCAhPT0gdXJsO1xuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKGZpbHRlcik7XG4gICAgcmV0dXJuIGZpbHRlcjtcbiAgfVxuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRhdGFTdG9yYWdlID0gZ2V0TG9jYWxTdG9yYWdlKCk7XG4gICAgdmFyIGFyck9iaiA9IGRhdGFTdG9yYWdlID8gZGF0YVN0b3JhZ2UgOiBbXTtcbiAgICB2YXIgcmVmcyA9IHNlbGVjdFJlZnMoKTtcblxuICAgIGZ1bmN0aW9uIHNlbGVjdFJlZnMoKSB7XG4gICAgICB2YXIgcmVmcyA9IHt9O1xuICAgICAgcmVmcy5mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbiAgICAgIHJlZnMuaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5wdXQtdXNlcicpO1xuICAgICAgcmVmcy5yb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJvb3QnKTtcbiAgICAgIHJldHVybiByZWZzO1xuICAgIH1cblxuICAgIHZhciBtYXJrdXAgPSBhcnJPYmoucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG9iaikge1xuICAgICAgcmV0dXJuIGFjYyArIGNyZWF0ZUNhcmRXaXRoT2JqKG9iaik7XG4gICAgfSwgJycpO1xuICAgIHJlZnMucm9vdC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBtYXJrdXApO1xuICAgIHJlZnMuZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVGb3JtQnlTdWJtaXQpO1xuICAgIHJlZnMucm9vdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUJ1dHRvblJlbW92ZUNhcmQpO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlRm9ybUJ5U3VibWl0KGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIHVzZXJVcmwgPSByZWZzLmlucHV0LnZhbHVlO1xuICAgICAgYXBpLmdldE9iakFQSSh1c2VyVXJsKS50aGVuKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGFyck9iai5wdXNoKG9iaik7XG4gICAgICAgIGFkZExvY2FsU3RvcmFnZShhcnJPYmopO1xuICAgICAgICByZWZzLnJvb3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgY3JlYXRlQ2FyZFdpdGhPYmoob2JqKSk7XG4gICAgICB9KTtcbiAgICAgIHJlZnMuZm9ybS5yZXNldCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUJ1dHRvblJlbW92ZUNhcmQoX3JlZikge1xuICAgICAgdmFyIHRhcmdldCA9IF9yZWYudGFyZ2V0O1xuICAgICAgaWYgKHRhcmdldC5ub2RlTmFtZSAhPT0gJ0JVVFRPTicpIHJldHVybjtcbiAgICAgIHJlbW92ZUNhcmQodGFyZ2V0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVDYXJkKHRhcmdldCkge1xuICAgICAgdmFyIGNhcmQgPSB0YXJnZXQuY2xvc2VzdCgnI2NhcmQnKTtcbiAgICAgIHZhciB1cmwgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWxpbmsnKS5ocmVmO1xuICAgICAgdmFyIGRhdGEgPSBnZXRMb2NhbFN0b3JhZ2UoKTtcbiAgICAgIGFkZExvY2FsU3RvcmFnZShmaWx0ZXJlZEFycmF5KGRhdGEsIHVybCkpO1xuICAgICAgY2FyZC5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVDYXJkV2l0aE9iaihvYmopIHtcbiAgICAgIHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzLmNhcmQob2JqKTtcbiAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG4gIH0pO1xufSkoZG9jdW1lbnQpOyJdfQ==
