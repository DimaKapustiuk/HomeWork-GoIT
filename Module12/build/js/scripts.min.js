"use strict";!function(e){function t(e){localStorage.setItem("user-bookmarks",JSON.stringify(e))}function r(){var e=JSON.parse(localStorage.getItem("user-bookmarks"));return e}function n(e,t){return e.filter(function(e){return e.url!==t})}var o={baseUrl:"https://api.linkpreview.net/?key=5b9a45cc81f339fa8928c270076c0ef75e4182d8266b4&q=",getObjAPI:function(e){return fetch("".concat(this.baseUrl).concat(e)).then(function(e){if(e.ok)return e.json();throw new Error("Error in response")})["catch"](function(e){return alert(e)})}};e.addEventListener("DOMContentLoaded",function(){function c(){var t={};return t.form=e.querySelector(".form"),t.input=e.querySelector(".input-user"),t.root=e.querySelector(".root"),t}function u(e){e.preventDefault();var r=d.input.value;o.getObjAPI(r).then(function(e){void 0!==e&&(l.unshift(e),t(l),d.root.insertAdjacentHTML("afterbegin",f(e)))}),d.form.reset()}function a(e){var t=e.target;"BUTTON"===t.nodeName&&i(t)}function i(e){var o=e.closest("#card"),c=o.querySelector(".card-link").href,u=r();t(n(u,c)),o.remove()}function f(e){var t=Handlebars.templates.card(e);return t}var s=r(),l=s?s:[],d=c(),v=l.reduce(function(e,t){return e+f(t)},"");d.root.insertAdjacentHTML("afterbegin",v),d.form.addEventListener("submit",u),d.root.addEventListener("click",a)})}(document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMubWluLmpzIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiYWRkTG9jYWxTdG9yYWdlIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0TG9jYWxTdG9yYWdlIiwicGFyc2UiLCJnZXRJdGVtIiwiZmlsdGVyZWRBcnJheSIsImFycmF5IiwidXJsIiwiZmlsdGVyIiwib2JqIiwiYXBpIiwiYmFzZVVybCIsImdldE9iakFQSSIsInVzZXJVcmwiLCJmZXRjaCIsImNvbmNhdCIsInRoaXMiLCJ0aGVuIiwicmVzcG9uc2UiLCJvayIsImpzb24iLCJFcnJvciIsImVycm9yIiwiYWxlcnQiLCJhZGRFdmVudExpc3RlbmVyIiwic2VsZWN0UmVmcyIsInJlZnMiLCJmb3JtIiwicXVlcnlTZWxlY3RvciIsImlucHV0Iiwicm9vdCIsImhhbmRsZUZvcm1CeVN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImFyck9iaiIsInVuc2hpZnQiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJjcmVhdGVDYXJkV2l0aE9iaiIsInJlc2V0IiwiaGFuZGxlQnV0dG9uUmVtb3ZlQ2FyZCIsIl9yZWYiLCJ0YXJnZXQiLCJub2RlTmFtZSIsInJlbW92ZUNhcmQiLCJjYXJkIiwiY2xvc2VzdCIsImhyZWYiLCJyZW1vdmUiLCJ0ZW1wbGF0ZSIsIkhhbmRsZWJhcnMiLCJ0ZW1wbGF0ZXMiLCJkYXRhU3RvcmFnZSIsIm1hcmt1cCIsInJlZHVjZSIsImFjYyJdLCJtYXBwaW5ncyI6IkFBQUEsY0FJQSxTQUFXQSxHQWFULFFBQVNDLEdBQWdCQyxHQUN2QkMsYUFBYUMsUUFBUSxpQkFBa0JDLEtBQUtDLFVBQVVKLElBR3hELFFBQVNLLEtBQ1AsR0FBSUwsR0FBT0csS0FBS0csTUFBTUwsYUFBYU0sUUFBUSxrQkFDM0MsT0FBT1AsR0FHVCxRQUFTUSxHQUFjQyxFQUFPQyxHQUM1QixNQUFPRCxHQUFNRSxPQUFPLFNBQVVDLEdBQzVCLE1BQU9BLEdBQUlGLE1BQVFBLElBdkJ2QixHQUFJRyxJQUNGQyxRQUFTLG9GQUNUQyxVQUFXLFNBQW1CQyxHQUM1QixNQUFPQyxPQUFNLEdBQUdDLE9BQU9DLEtBQUtMLFNBQVNJLE9BQU9GLElBQVVJLEtBQUssU0FBVUMsR0FDbkUsR0FBSUEsRUFBU0MsR0FBSSxNQUFPRCxHQUFTRSxNQUNqQyxNQUFNLElBQUlDLE9BQU0sdUJBRlhQLFNBR0UsU0FBVVEsR0FDakIsTUFBT0MsT0FBTUQsTUFvQm5CM0IsR0FBUzZCLGlCQUFpQixtQkFBb0IsV0FLNUMsUUFBU0MsS0FDUCxHQUFJQyxLQUlKLE9BSEFBLEdBQUtDLEtBQU9oQyxFQUFTaUMsY0FBYyxTQUNuQ0YsRUFBS0csTUFBUWxDLEVBQVNpQyxjQUFjLGVBQ3BDRixFQUFLSSxLQUFPbkMsRUFBU2lDLGNBQWMsU0FDNUJGLEVBVVQsUUFBU0ssR0FBbUJDLEdBQzFCQSxFQUFNQyxnQkFDTixJQUFJcEIsR0FBVWEsRUFBS0csTUFBTUssS0FDekJ4QixHQUFJRSxVQUFVQyxHQUFTSSxLQUFLLFNBQVVSLEdBQ3hCMEIsU0FBUjFCLElBQ0oyQixFQUFPQyxRQUFRNUIsR0FDZmIsRUFBZ0J3QyxHQUNoQlYsRUFBS0ksS0FBS1EsbUJBQW1CLGFBQWNDLEVBQWtCOUIsT0FFL0RpQixFQUFLQyxLQUFLYSxRQUdaLFFBQVNDLEdBQXVCQyxHQUM5QixHQUFJQyxHQUFTRCxFQUFLQyxNQUNNLFlBQXBCQSxFQUFPQyxVQUNYQyxFQUFXRixHQUdiLFFBQVNFLEdBQVdGLEdBQ2xCLEdBQUlHLEdBQU9ILEVBQU9JLFFBQVEsU0FDdEJ4QyxFQUFNdUMsRUFBS2xCLGNBQWMsY0FBY29CLEtBQ3ZDbkQsRUFBT0ssR0FDWE4sR0FBZ0JTLEVBQWNSLEVBQU1VLElBQ3BDdUMsRUFBS0csU0FHUCxRQUFTVixHQUFrQjlCLEdBQ3pCLEdBQUl5QyxHQUFXQyxXQUFXQyxVQUFVTixLQUFLckMsRUFDekMsT0FBT3lDLEdBL0NULEdBQUlHLEdBQWNuRCxJQUNka0MsRUFBU2lCLEVBQWNBLEtBQ3ZCM0IsRUFBT0QsSUFVUDZCLEVBQVNsQixFQUFPbUIsT0FBTyxTQUFVQyxFQUFLL0MsR0FDeEMsTUFBTytDLEdBQU1qQixFQUFrQjlCLElBQzlCLEdBQ0hpQixHQUFLSSxLQUFLUSxtQkFBbUIsYUFBY2dCLEdBQzNDNUIsRUFBS0MsS0FBS0gsaUJBQWlCLFNBQVVPLEdBQ3JDTCxFQUFLSSxLQUFLTixpQkFBaUIsUUFBU2lCLE1BaUNyQzlDIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbjtcblxuKGZ1bmN0aW9uIChkb2N1bWVudCkge1xuICB2YXIgYXBpID0ge1xuICAgIGJhc2VVcmw6ICdodHRwczovL2FwaS5saW5rcHJldmlldy5uZXQvP2tleT01YjlhNDVjYzgxZjMzOWZhODkyOGMyNzAwNzZjMGVmNzVlNDE4MmQ4MjY2YjQmcT0nLFxuICAgIGdldE9iakFQSTogZnVuY3Rpb24gZ2V0T2JqQVBJKHVzZXJVcmwpIHtcbiAgICAgIHJldHVybiBmZXRjaChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVcmwpLmNvbmNhdCh1c2VyVXJsKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGluIHJlc3BvbnNlJyk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGFsZXJ0KGVycm9yKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBhZGRMb2NhbFN0b3JhZ2UoZGF0YSkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXNlci1ib29rbWFya3NcIiwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TG9jYWxTdG9yYWdlKCkge1xuICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXItYm9va21hcmtzXCIpKTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbHRlcmVkQXJyYXkoYXJyYXksIHVybCkge1xuICAgIHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24gKG9iaikge1xuICAgICAgcmV0dXJuIG9iai51cmwgIT09IHVybDtcbiAgICB9KTtcbiAgfVxuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRhdGFTdG9yYWdlID0gZ2V0TG9jYWxTdG9yYWdlKCk7XG4gICAgdmFyIGFyck9iaiA9IGRhdGFTdG9yYWdlID8gZGF0YVN0b3JhZ2UgOiBbXTtcbiAgICB2YXIgcmVmcyA9IHNlbGVjdFJlZnMoKTtcblxuICAgIGZ1bmN0aW9uIHNlbGVjdFJlZnMoKSB7XG4gICAgICB2YXIgcmVmcyA9IHt9O1xuICAgICAgcmVmcy5mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbiAgICAgIHJlZnMuaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5wdXQtdXNlcicpO1xuICAgICAgcmVmcy5yb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJvb3QnKTtcbiAgICAgIHJldHVybiByZWZzO1xuICAgIH1cblxuICAgIHZhciBtYXJrdXAgPSBhcnJPYmoucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG9iaikge1xuICAgICAgcmV0dXJuIGFjYyArIGNyZWF0ZUNhcmRXaXRoT2JqKG9iaik7XG4gICAgfSwgJycpO1xuICAgIHJlZnMucm9vdC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBtYXJrdXApO1xuICAgIHJlZnMuZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVGb3JtQnlTdWJtaXQpO1xuICAgIHJlZnMucm9vdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUJ1dHRvblJlbW92ZUNhcmQpO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlRm9ybUJ5U3VibWl0KGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIHVzZXJVcmwgPSByZWZzLmlucHV0LnZhbHVlO1xuICAgICAgYXBpLmdldE9iakFQSSh1c2VyVXJsKS50aGVuKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgIGFyck9iai51bnNoaWZ0KG9iaik7XG4gICAgICAgIGFkZExvY2FsU3RvcmFnZShhcnJPYmopO1xuICAgICAgICByZWZzLnJvb3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgY3JlYXRlQ2FyZFdpdGhPYmoob2JqKSk7XG4gICAgICB9KTtcbiAgICAgIHJlZnMuZm9ybS5yZXNldCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUJ1dHRvblJlbW92ZUNhcmQoX3JlZikge1xuICAgICAgdmFyIHRhcmdldCA9IF9yZWYudGFyZ2V0O1xuICAgICAgaWYgKHRhcmdldC5ub2RlTmFtZSAhPT0gJ0JVVFRPTicpIHJldHVybjtcbiAgICAgIHJlbW92ZUNhcmQodGFyZ2V0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVDYXJkKHRhcmdldCkge1xuICAgICAgdmFyIGNhcmQgPSB0YXJnZXQuY2xvc2VzdCgnI2NhcmQnKTtcbiAgICAgIHZhciB1cmwgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWxpbmsnKS5ocmVmO1xuICAgICAgdmFyIGRhdGEgPSBnZXRMb2NhbFN0b3JhZ2UoKTtcbiAgICAgIGFkZExvY2FsU3RvcmFnZShmaWx0ZXJlZEFycmF5KGRhdGEsIHVybCkpO1xuICAgICAgY2FyZC5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVDYXJkV2l0aE9iaihvYmopIHtcbiAgICAgIHZhciB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMudGVtcGxhdGVzLmNhcmQob2JqKTtcbiAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG4gIH0pO1xufSkoZG9jdW1lbnQpOyJdfQ==
