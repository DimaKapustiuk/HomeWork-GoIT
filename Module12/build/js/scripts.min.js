"use strict";!function(e){function r(e){localStorage.setItem("user's-bookmarks",JSON.stringify(e))}function t(){var e=JSON.parse(localStorage.getItem("user's-bookmarks"));return e}function n(e,r){return e.reduce(function(e,t){return t.url!==r&&e.push(t),e},[])}var o={baseUrl:"http://api.linkpreview.net/?key=5b9a45cc81f339fa8928c270076c0ef75e4182d8266b4&q=",getObjAPI:function(e){return fetch("".concat(this.baseUrl).concat(e)).then(function(e){if(e.ok)return e.json();throw new Error("Error in response")})["catch"](function(e){return alert(e)})}};e.addEventListener("DOMContentLoaded",function(){function c(){var r={};return r.form=e.querySelector(".form"),r.input=e.querySelector(".input-user"),r.root=e.querySelector(".root"),r}function u(e){e.preventDefault();var t=l.input.value;o.getObjAPI(t).then(function(e){void 0!==e&&(d.push(e),r(d),l.root.insertAdjacentHTML("afterbegin",f(e)))}),l.form.reset()}function a(e){var r=e.target;"BUTTON"===r.nodeName&&i(r)}function i(e){var o=e.closest("#card"),c=o.querySelector(".card-link").href,u=t();r(n(u,c)),o.remove()}function f(e){var r=Handlebars.templates.card(e);return r}var s=t(),d=s?s:[],l=c();!function(e){var r=e.reduce(function(e,r){return e+f(r)},"");l.root.insertAdjacentHTML("afterbegin",r)}(d),l.form.addEventListener("submit",u),l.root.addEventListener("click",a)})}(document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMubWluLmpzIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiYWRkTG9jYWxTdG9yYWdlIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0TG9jYWxTdG9yYWdlIiwicGFyc2UiLCJnZXRJdGVtIiwiZGVsZXRlRnJvbUxvY2FsU3RvcmFnZSIsImFycmF5IiwidXJsIiwicmVkdWNlIiwiYWNjIiwib2JqIiwicHVzaCIsImFwaSIsImJhc2VVcmwiLCJnZXRPYmpBUEkiLCJ1c2VyVXJsIiwiZmV0Y2giLCJjb25jYXQiLCJ0aGlzIiwidGhlbiIsInJlc3BvbnNlIiwib2siLCJqc29uIiwiRXJyb3IiLCJlcnJvciIsImFsZXJ0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInNlbGVjdFJlZnMiLCJyZWZzIiwiZm9ybSIsInF1ZXJ5U2VsZWN0b3IiLCJpbnB1dCIsInJvb3QiLCJoYW5kbGVGb3JtQnlTdWJtaXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwidmFsdWUiLCJ1bmRlZmluZWQiLCJhcnJPYmoiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJjcmVhdGVDYXJkV2l0aE9iaiIsInJlc2V0IiwiaGFuZGxlQnV0dG9uUmVtb3ZlQ2FyZCIsIl9yZWYiLCJ0YXJnZXQiLCJub2RlTmFtZSIsInJlbW92ZUNhcmQiLCJjYXJkIiwiY2xvc2VzdCIsImhyZWYiLCJyZW1vdmUiLCJ0ZW1wbGF0ZSIsIkhhbmRsZWJhcnMiLCJ0ZW1wbGF0ZXMiLCJkYXRhU3RvcmFnZSIsImFyciIsIm1hcmt1cCJdLCJtYXBwaW5ncyI6IkFBQUEsY0FJQSxTQUFXQSxHQWFULFFBQVNDLEdBQWdCQyxHQUN2QkMsYUFBYUMsUUFBUSxtQkFBb0JDLEtBQUtDLFVBQVVKLElBRzFELFFBQVNLLEtBQ1AsR0FBSUwsR0FBT0csS0FBS0csTUFBTUwsYUFBYU0sUUFBUSxvQkFDM0MsT0FBT1AsR0FHVCxRQUFTUSxHQUF1QkMsRUFBT0MsR0FDckMsTUFBT0QsR0FBTUUsT0FBTyxTQUFVQyxFQUFLQyxHQUtqQyxNQUpJQSxHQUFJSCxNQUFRQSxHQUNkRSxFQUFJRSxLQUFLRCxHQUdKRCxPQTNCWCxHQUFJRyxJQUNGQyxRQUFTLG1GQUNUQyxVQUFXLFNBQW1CQyxHQUM1QixNQUFPQyxPQUFNLEdBQUdDLE9BQU9DLEtBQUtMLFNBQVNJLE9BQU9GLElBQVVJLEtBQUssU0FBVUMsR0FDbkUsR0FBSUEsRUFBU0MsR0FBSSxNQUFPRCxHQUFTRSxNQUNqQyxNQUFNLElBQUlDLE9BQU0sdUJBRlhQLFNBR0UsU0FBVVEsR0FDakIsTUFBT0MsT0FBTUQsTUF3Qm5CN0IsR0FBUytCLGlCQUFpQixtQkFBb0IsV0FLNUMsUUFBU0MsS0FDUCxHQUFJQyxLQUlKLE9BSEFBLEdBQUtDLEtBQU9sQyxFQUFTbUMsY0FBYyxTQUNuQ0YsRUFBS0csTUFBUXBDLEVBQVNtQyxjQUFjLGVBQ3BDRixFQUFLSSxLQUFPckMsRUFBU21DLGNBQWMsU0FDNUJGLEVBY1QsUUFBU0ssR0FBbUJDLEdBQzFCQSxFQUFNQyxnQkFDTixJQUFJcEIsR0FBVWEsRUFBS0csTUFBTUssS0FDekJ4QixHQUFJRSxVQUFVQyxHQUFTSSxLQUFLLFNBQVVULEdBQ3hCMkIsU0FBUjNCLElBQ0o0QixFQUFPM0IsS0FBS0QsR0FDWmQsRUFBZ0IwQyxHQUNoQlYsRUFBS0ksS0FBS08sbUJBQW1CLGFBQWNDLEVBQWtCOUIsT0FFL0RrQixFQUFLQyxLQUFLWSxRQUdaLFFBQVNDLEdBQXVCQyxHQUM5QixHQUFJQyxHQUFTRCxFQUFLQyxNQUNNLFlBQXBCQSxFQUFPQyxVQUNYQyxFQUFXRixHQUdiLFFBQVNFLEdBQVdGLEdBQ2xCLEdBQUlHLEdBQU9ILEVBQU9JLFFBQVEsU0FDdEJ6QyxFQUFNd0MsRUFBS2pCLGNBQWMsY0FBY21CLEtBQ3ZDcEQsRUFBT0ssR0FDWE4sR0FBZ0JTLEVBQXVCUixFQUFNVSxJQUM3Q3dDLEVBQUtHLFNBR1AsUUFBU1YsR0FBa0I5QixHQUN6QixHQUFJeUMsR0FBV0MsV0FBV0MsVUFBVU4sS0FBS3JDLEVBQ3pDLE9BQU95QyxHQW5EVCxHQUFJRyxHQUFjcEQsSUFDZG9DLEVBQVNnQixFQUFjQSxLQUN2QjFCLEVBQU9ELEtBVVgsU0FBVzRCLEdBQ1QsR0FBSUMsR0FBU0QsRUFBSS9DLE9BQU8sU0FBVUMsRUFBS0MsR0FDckMsTUFBT0QsR0FBTStCLEVBQWtCOUIsSUFDOUIsR0FDSGtCLEdBQUtJLEtBQUtPLG1CQUFtQixhQUFjaUIsSUFDMUNsQixHQUdIVixFQUFLQyxLQUFLSCxpQkFBaUIsU0FBVU8sR0FDckNMLEVBQUtJLEtBQUtOLGlCQUFpQixRQUFTZ0IsTUFpQ3JDL0MiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuO1xuXG4oZnVuY3Rpb24gKGRvY3VtZW50KSB7XG4gIHZhciBhcGkgPSB7XG4gICAgYmFzZVVybDogJ2h0dHA6Ly9hcGkubGlua3ByZXZpZXcubmV0Lz9rZXk9NWI5YTQ1Y2M4MWYzMzlmYTg5MjhjMjcwMDc2YzBlZjc1ZTQxODJkODI2NmI0JnE9JyxcbiAgICBnZXRPYmpBUEk6IGZ1bmN0aW9uIGdldE9iakFQSSh1c2VyVXJsKSB7XG4gICAgICByZXR1cm4gZmV0Y2goXCJcIi5jb25jYXQodGhpcy5iYXNlVXJsKS5jb25jYXQodXNlclVybCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBpbiByZXNwb25zZScpO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBhbGVydChlcnJvcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gYWRkTG9jYWxTdG9yYWdlKGRhdGEpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXIncy1ib29rbWFya3NcIiwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TG9jYWxTdG9yYWdlKCkge1xuICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXIncy1ib29rbWFya3NcIikpO1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlRnJvbUxvY2FsU3RvcmFnZShhcnJheSwgdXJsKSB7XG4gICAgcmV0dXJuIGFycmF5LnJlZHVjZShmdW5jdGlvbiAoYWNjLCBvYmopIHtcbiAgICAgIGlmIChvYmoudXJsICE9PSB1cmwpIHtcbiAgICAgICAgYWNjLnB1c2gob2JqKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBbXSk7XG4gIH1cblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXRhU3RvcmFnZSA9IGdldExvY2FsU3RvcmFnZSgpO1xuICAgIHZhciBhcnJPYmogPSBkYXRhU3RvcmFnZSA/IGRhdGFTdG9yYWdlIDogW107XG4gICAgdmFyIHJlZnMgPSBzZWxlY3RSZWZzKCk7XG5cbiAgICBmdW5jdGlvbiBzZWxlY3RSZWZzKCkge1xuICAgICAgdmFyIHJlZnMgPSB7fTtcbiAgICAgIHJlZnMuZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgICByZWZzLmlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmlucHV0LXVzZXInKTtcbiAgICAgIHJlZnMucm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yb290Jyk7XG4gICAgICByZXR1cm4gcmVmcztcbiAgICB9XG5cbiAgICAoZnVuY3Rpb24gKGFycikge1xuICAgICAgdmFyIG1hcmt1cCA9IGFyci5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgb2JqKSB7XG4gICAgICAgIHJldHVybiBhY2MgKyBjcmVhdGVDYXJkV2l0aE9iaihvYmopO1xuICAgICAgfSwgJycpO1xuICAgICAgcmVmcy5yb290Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIG1hcmt1cCk7XG4gICAgfSkoYXJyT2JqKTsgLy9wYWluZWRDYXJkT2ZMb2NhbFN0b3JhZ2UoYXJyT2JqKTtcblxuXG4gICAgcmVmcy5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUZvcm1CeVN1Ym1pdCk7XG4gICAgcmVmcy5yb290LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQnV0dG9uUmVtb3ZlQ2FyZCk7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVGb3JtQnlTdWJtaXQoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgdXNlclVybCA9IHJlZnMuaW5wdXQudmFsdWU7XG4gICAgICBhcGkuZ2V0T2JqQVBJKHVzZXJVcmwpLnRoZW4oZnVuY3Rpb24gKG9iaikge1xuICAgICAgICBpZiAob2JqID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgYXJyT2JqLnB1c2gob2JqKTtcbiAgICAgICAgYWRkTG9jYWxTdG9yYWdlKGFyck9iaik7XG4gICAgICAgIHJlZnMucm9vdC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBjcmVhdGVDYXJkV2l0aE9iaihvYmopKTtcbiAgICAgIH0pO1xuICAgICAgcmVmcy5mb3JtLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQnV0dG9uUmVtb3ZlQ2FyZChfcmVmKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gX3JlZi50YXJnZXQ7XG4gICAgICBpZiAodGFyZ2V0Lm5vZGVOYW1lICE9PSAnQlVUVE9OJykgcmV0dXJuO1xuICAgICAgcmVtb3ZlQ2FyZCh0YXJnZXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZUNhcmQodGFyZ2V0KSB7XG4gICAgICB2YXIgY2FyZCA9IHRhcmdldC5jbG9zZXN0KCcjY2FyZCcpO1xuICAgICAgdmFyIHVybCA9IGNhcmQucXVlcnlTZWxlY3RvcignLmNhcmQtbGluaycpLmhyZWY7XG4gICAgICB2YXIgZGF0YSA9IGdldExvY2FsU3RvcmFnZSgpO1xuICAgICAgYWRkTG9jYWxTdG9yYWdlKGRlbGV0ZUZyb21Mb2NhbFN0b3JhZ2UoZGF0YSwgdXJsKSk7XG4gICAgICBjYXJkLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhcmRXaXRoT2JqKG9iaikge1xuICAgICAgdmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy50ZW1wbGF0ZXMuY2FyZChvYmopO1xuICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbiAgfSk7XG59KShkb2N1bWVudCk7Il19
