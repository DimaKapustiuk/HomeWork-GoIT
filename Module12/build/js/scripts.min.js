"use strict";!function(e){function t(e){localStorage.setItem("user-bookmarks",JSON.stringify(e))}function r(){var e=JSON.parse(localStorage.getItem("user-bookmarks"));return e}function n(e,t){return e.filter(function(e){return e.url!==t})}var o={baseUrl:"http://api.linkpreview.net/?key=5b9a45cc81f339fa8928c270076c0ef75e4182d8266b4&q=",getObjAPI:function(e){return fetch("".concat(this.baseUrl).concat(e)).then(function(e){if(e.ok)return e.json();throw new Error("Error in response")})["catch"](function(e){return alert(e)})}};e.addEventListener("DOMContentLoaded",function(){function c(){var t={};return t.form=e.querySelector(".form"),t.input=e.querySelector(".input-user"),t.root=e.querySelector(".root"),t}function u(e){e.preventDefault();var r=d.input.value;o.getObjAPI(r).then(function(e){void 0!==e&&(l.unshift(e),t(l),d.root.insertAdjacentHTML("afterbegin",f(e)))}),d.form.reset()}function a(e){var t=e.target;"BUTTON"===t.nodeName&&i(t)}function i(e){var o=e.closest("#card"),c=o.querySelector(".card-link").href,u=r();t(n(u,c)),o.remove()}function f(e){var t=Handlebars.templates.card(e);return t}var s=r(),l=s?s:[],d=c(),v=l.reduce(function(e,t){return e+f(t)},"");d.root.insertAdjacentHTML("afterbegin",v),d.form.addEventListener("submit",u),d.root.addEventListener("click",a)})}(document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMubWluLmpzIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiYWRkTG9jYWxTdG9yYWdlIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0TG9jYWxTdG9yYWdlIiwicGFyc2UiLCJnZXRJdGVtIiwiZmlsdGVyZWRBcnJheSIsImFycmF5IiwidXJsIiwiZmlsdGVyIiwib2JqIiwiYXBpIiwiYmFzZVVybCIsImdldE9iakFQSSIsInVzZXJVcmwiLCJmZXRjaCIsImNvbmNhdCIsInRoaXMiLCJ0aGVuIiwicmVzcG9uc2UiLCJvayIsImpzb24iLCJFcnJvciIsImVycm9yIiwiYWxlcnQiLCJhZGRFdmVudExpc3RlbmVyIiwic2VsZWN0UmVmcyIsInJlZnMiLCJmb3JtIiwicXVlcnlTZWxlY3RvciIsImlucHV0Iiwicm9vdCIsImhhbmRsZUZvcm1CeVN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImFyck9iaiIsInVuc2hpZnQiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJjcmVhdGVDYXJkV2l0aE9iaiIsInJlc2V0IiwiaGFuZGxlQnV0dG9uUmVtb3ZlQ2FyZCIsIl9yZWYiLCJ0YXJnZXQiLCJub2RlTmFtZSIsInJlbW92ZUNhcmQiLCJjYXJkIiwiY2xvc2VzdCIsImhyZWYiLCJyZW1vdmUiLCJ0ZW1wbGF0ZSIsIkhhbmRsZWJhcnMiLCJ0ZW1wbGF0ZXMiLCJkYXRhU3RvcmFnZSIsIm1hcmt1cCIsInJlZHVjZSIsImFjYyJdLCJtYXBwaW5ncyI6IkFBQUEsY0FJQSxTQUFXQSxHQWFULFFBQVNDLEdBQWdCQyxHQUN2QkMsYUFBYUMsUUFBUSxpQkFBa0JDLEtBQUtDLFVBQVVKLElBR3hELFFBQVNLLEtBQ1AsR0FBSUwsR0FBT0csS0FBS0csTUFBTUwsYUFBYU0sUUFBUSxrQkFDM0MsT0FBT1AsR0FHVCxRQUFTUSxHQUFjQyxFQUFPQyxHQUM1QixNQUFPRCxHQUFNRSxPQUFPLFNBQVVDLEdBQzVCLE1BQU9BLEdBQUlGLE1BQVFBLElBdkJ2QixHQUFJRyxJQUNGQyxRQUFTLG1GQUNUQyxVQUFXLFNBQW1CQyxHQUM1QixNQUFPQyxPQUFNLEdBQUdDLE9BQU9DLEtBQUtMLFNBQVNJLE9BQU9GLElBQVVJLEtBQUssU0FBVUMsR0FDbkUsR0FBSUEsRUFBU0MsR0FBSSxNQUFPRCxHQUFTRSxNQUNqQyxNQUFNLElBQUlDLE9BQU0sdUJBRlhQLFNBR0UsU0FBVVEsR0FDakIsTUFBT0MsT0FBTUQsTUFvQm5CM0IsR0FBUzZCLGlCQUFpQixtQkFBb0IsV0FLNUMsUUFBU0MsS0FDUCxHQUFJQyxLQUlKLE9BSEFBLEdBQUtDLEtBQU9oQyxFQUFTaUMsY0FBYyxTQUNuQ0YsRUFBS0csTUFBUWxDLEVBQVNpQyxjQUFjLGVBQ3BDRixFQUFLSSxLQUFPbkMsRUFBU2lDLGNBQWMsU0FDNUJGLEVBVVQsUUFBU0ssR0FBbUJDLEdBQzFCQSxFQUFNQyxnQkFDTixJQUFJcEIsR0FBVWEsRUFBS0csTUFBTUssS0FDekJ4QixHQUFJRSxVQUFVQyxHQUFTSSxLQUFLLFNBQVVSLEdBQ3hCMEIsU0FBUjFCLElBQ0oyQixFQUFPQyxRQUFRNUIsR0FDZmIsRUFBZ0J3QyxHQUNoQlYsRUFBS0ksS0FBS1EsbUJBQW1CLGFBQWNDLEVBQWtCOUIsT0FFL0RpQixFQUFLQyxLQUFLYSxRQUdaLFFBQVNDLEdBQXVCQyxHQUM5QixHQUFJQyxHQUFTRCxFQUFLQyxNQUNNLFlBQXBCQSxFQUFPQyxVQUNYQyxFQUFXRixHQUdiLFFBQVNFLEdBQVdGLEdBQ2xCLEdBQUlHLEdBQU9ILEVBQU9JLFFBQVEsU0FDdEJ4QyxFQUFNdUMsRUFBS2xCLGNBQWMsY0FBY29CLEtBQ3ZDbkQsRUFBT0ssR0FDWE4sR0FBZ0JTLEVBQWNSLEVBQU1VLElBQ3BDdUMsRUFBS0csU0FHUCxRQUFTVixHQUFrQjlCLEdBQ3pCLEdBQUl5QyxHQUFXQyxXQUFXQyxVQUFVTixLQUFLckMsRUFDekMsT0FBT3lDLEdBL0NULEdBQUlHLEdBQWNuRCxJQUNka0MsRUFBU2lCLEVBQWNBLEtBQ3ZCM0IsRUFBT0QsSUFVUDZCLEVBQVNsQixFQUFPbUIsT0FBTyxTQUFVQyxFQUFLL0MsR0FDeEMsTUFBTytDLEdBQU1qQixFQUFrQjlCLElBQzlCLEdBQ0hpQixHQUFLSSxLQUFLUSxtQkFBbUIsYUFBY2dCLEdBQzNDNUIsRUFBS0MsS0FBS0gsaUJBQWlCLFNBQVVPLEdBQ3JDTCxFQUFLSSxLQUFLTixpQkFBaUIsUUFBU2lCLE1BaUNyQzlDIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbjtcblxuKGZ1bmN0aW9uIChkb2N1bWVudCkge1xuICB2YXIgYXBpID0ge1xuICAgIGJhc2VVcmw6ICdodHRwOi8vYXBpLmxpbmtwcmV2aWV3Lm5ldC8/a2V5PTViOWE0NWNjODFmMzM5ZmE4OTI4YzI3MDA3NmMwZWY3NWU0MTgyZDgyNjZiNCZxPScsXG4gICAgZ2V0T2JqQVBJOiBmdW5jdGlvbiBnZXRPYmpBUEkodXNlclVybCkge1xuICAgICAgcmV0dXJuIGZldGNoKFwiXCIuY29uY2F0KHRoaXMuYmFzZVVybCkuY29uY2F0KHVzZXJVcmwpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgaW4gcmVzcG9uc2UnKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICByZXR1cm4gYWxlcnQoZXJyb3IpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGFkZExvY2FsU3RvcmFnZShkYXRhKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyLWJvb2ttYXJrc1wiLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2UoKSB7XG4gICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlci1ib29rbWFya3NcIikpO1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlsdGVyZWRBcnJheShhcnJheSwgdXJsKSB7XG4gICAgcmV0dXJuIGFycmF5LmZpbHRlcihmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gb2JqLnVybCAhPT0gdXJsO1xuICAgIH0pO1xuICB9XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGF0YVN0b3JhZ2UgPSBnZXRMb2NhbFN0b3JhZ2UoKTtcbiAgICB2YXIgYXJyT2JqID0gZGF0YVN0b3JhZ2UgPyBkYXRhU3RvcmFnZSA6IFtdO1xuICAgIHZhciByZWZzID0gc2VsZWN0UmVmcygpO1xuXG4gICAgZnVuY3Rpb24gc2VsZWN0UmVmcygpIHtcbiAgICAgIHZhciByZWZzID0ge307XG4gICAgICByZWZzLmZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuICAgICAgcmVmcy5pbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC11c2VyJyk7XG4gICAgICByZWZzLnJvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucm9vdCcpO1xuICAgICAgcmV0dXJuIHJlZnM7XG4gICAgfVxuXG4gICAgdmFyIG1hcmt1cCA9IGFyck9iai5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgb2JqKSB7XG4gICAgICByZXR1cm4gYWNjICsgY3JlYXRlQ2FyZFdpdGhPYmoob2JqKTtcbiAgICB9LCAnJyk7XG4gICAgcmVmcy5yb290Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIG1hcmt1cCk7XG4gICAgcmVmcy5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUZvcm1CeVN1Ym1pdCk7XG4gICAgcmVmcy5yb290LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQnV0dG9uUmVtb3ZlQ2FyZCk7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVGb3JtQnlTdWJtaXQoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgdXNlclVybCA9IHJlZnMuaW5wdXQudmFsdWU7XG4gICAgICBhcGkuZ2V0T2JqQVBJKHVzZXJVcmwpLnRoZW4oZnVuY3Rpb24gKG9iaikge1xuICAgICAgICBpZiAob2JqID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgYXJyT2JqLnVuc2hpZnQob2JqKTtcbiAgICAgICAgYWRkTG9jYWxTdG9yYWdlKGFyck9iaik7XG4gICAgICAgIHJlZnMucm9vdC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBjcmVhdGVDYXJkV2l0aE9iaihvYmopKTtcbiAgICAgIH0pO1xuICAgICAgcmVmcy5mb3JtLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQnV0dG9uUmVtb3ZlQ2FyZChfcmVmKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gX3JlZi50YXJnZXQ7XG4gICAgICBpZiAodGFyZ2V0Lm5vZGVOYW1lICE9PSAnQlVUVE9OJykgcmV0dXJuO1xuICAgICAgcmVtb3ZlQ2FyZCh0YXJnZXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZUNhcmQodGFyZ2V0KSB7XG4gICAgICB2YXIgY2FyZCA9IHRhcmdldC5jbG9zZXN0KCcjY2FyZCcpO1xuICAgICAgdmFyIHVybCA9IGNhcmQucXVlcnlTZWxlY3RvcignLmNhcmQtbGluaycpLmhyZWY7XG4gICAgICB2YXIgZGF0YSA9IGdldExvY2FsU3RvcmFnZSgpO1xuICAgICAgYWRkTG9jYWxTdG9yYWdlKGZpbHRlcmVkQXJyYXkoZGF0YSwgdXJsKSk7XG4gICAgICBjYXJkLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhcmRXaXRoT2JqKG9iaikge1xuICAgICAgdmFyIHRlbXBsYXRlID0gSGFuZGxlYmFycy50ZW1wbGF0ZXMuY2FyZChvYmopO1xuICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbiAgfSk7XG59KShkb2N1bWVudCk7Il19
